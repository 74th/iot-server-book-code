# 本文中のURLのリスト

## 1.3. 今回開発したデバイスを手に入れよう

P.11

> ESP32-C3 IoT Serverキット（￥2,000）\[74TH-G035\]
>
> https://74th.tech/g035s

## 2.1. WiFi対応マイコンESP32を搭載したM5Stack Atom Lite

P.12

> ATOM Lite — スイッチサイエンス
>
> https://www.switch-science.com/products/6262

## 2.2. 赤外線LEDのGroveモジュール

P.15

> M5Stack用赤外線送受信ユニット \[U002\] — スイッチサイエンス
>
> https://www.switch-science.com/products/5699

## 2.3. Arduinoの開発環境を準備する

P.21

> iot-server-book-code/2.3-m5stack_atomlite_lchika
>
> https://github.com/74th/iot-server-book-code/tree/main/2.3-m5stack_atomlite_lchika

## コラム3 PlatformIOとEspressifについて

P.21(P.39)

> 脚注1
>
> https://github.com/espressif/arduino-esp32/pull/8606

> 脚注2
>
> https://github.com/platformio/platform-espressif32/issues/1225

## 2.4. 赤外線信号を受信する

P.22

> crankyoldgit/IRremoteESP8266: Infrared remote library for ESP8266/ESP32
>
> https://github.com/crankyoldgit/IRremoteESP8266

P.24

> iot-server-book-code/2.4-ir_receive
>
> https://github.com/74th/iot-server-book-code/tree/main/2.4-ir_receive

## 2.5. 赤外線信号を送信する

P.26

> iot-server-book-code/2.5-ir_send
>
> https://github.com/74th/iot-server-book-code/tree/main/2.5-ir_send

## 2.6.2. WiFiに接続する

P.28

> iot-server-book-code/2.6.2-connect_wifi
>
> https://github.com/74th/iot-server-book-code/tree/main/2.6.2-connect_wifi

## 2.6.3. Webサーバを立てる

P.30

> iot-server-book-code/2.6.3-web_server
>
> https://github.com/74th/iot-server-book-code/tree/main/2.6.3-web_server

## 2.7.2. ArduinoJsonでリクエストとレスポンスのJSONを操作する

P.32

> ArduinoJson: Efficient JSON serialization for embedded C++
>
> https://arduinojson.org/

## 2.7.4. 赤外線受信処理のWebAPI化

P.39

> iot-server-book-code/2.7-json_webapi
>
> https://github.com/74th/iot-server-book-code/tree/main/2.7-json_webapi

## 3.2.1. Python環境の構築

P.42

> Rye
>
> https://rye.astral.sh/

## 3.2.3. VS Codeでデバッガを使ってStreamlitを実行する

P.45

> iot-server-book-code/3.2-stremlit_environment
>
> https://github.com/74th/iot-server-book-code/tree/main/3.2-stremlit_environment

## 3.3. Streamlitの概念

P.46

> iot-server-book-code/3.3-streamlit_concept
>
> https://github.com/74th/iot-server-book-code/tree/main/3.3-streamlit_concept

## 3.4. WebAPIへアクセスするボタンを作る

P.49

> iot-server-book-code/3.4-webapi_button
>
> https://github.com/74th/iot-server-book-code/tree/main/3.4-webapi_button

## 3.6. まとめ

P.51

> Create a multipage app - Streamlit Docs
>
> https://docs.streamlit.io/get-started/tutorials/create-a-multipage-app

## 4.3. ESP32-C3-WROOM-02ボード作成で気をつけたところ

P.53

> ESP32-C3-WROOM-02 ESP32-C3-WROOM-02U Datasheet
>
> https://www.espressif.com/sites/default/files/documentation/esp32-c3-wroom-02_datasheet_en.pdf

## 4.3.5. モジュールの位置

P.57

> PCB Layout Design - ESP32-C3 - — ESP Hardware Design Guidelines latest documentation
>
> https://docs.espressif.com/projects/esp-hardware-design-guidelines/en/latest/esp32c3/pcb-layout-design.html

## 4.5. 筆者のPCB設計の入門の仕方

P.60

> 74th/esp32c3-iot-server-board: Board for converting Grove device to IoT Server using ESP32-C3-WROOM-02.
> https://github.com/74th/esp32c3-iot-server-board

P.62

> 自作キーボード設計入門(電子版) - Pastry Keyboard - BOOTH
>
> https://booth.pm/ja/items/1044084

> 自作キーボード設計ガイド Vol1 設計入門編 - 自キ温泉街販売所 - BOOTH
>
> https://salicylic-acid3.booth.pm/items/4410329

> KiCad 8 入門実習テキスト『KiCad Basics for 8.0』（ダウンロード商品） - Kosaka.Lab. - BOOTH
>
> https://booth.pm/ja/items/5554691

P.63

> PCB Prototype & PCB Fabrication Manufacturer - JLCPCB
>
> https://jlcpcb.com/

## 4.6. 実装

P.63

> USB 2.0 Type-C ソケット実装テスタ v2[74TH-G043]
>
> https://74th.tech/g043s

## 5.2. 基板を止められるネジ穴を作る

P.69

> 3d-print-parts/test-skrew at main · 74th/3d-print-parts
>
> https://github.com/74th/3d-print-parts/tree/main/test-skrew

## 5.6. 3Dプリントした色

P.73

> SUNLU PLA フィラメント Matte つや消しの質感 1.75 mm径 整頓 巻き 3Dプリンター3Dペン用 スプール造形材料 1kgスプール 寸法精度+/- 0.02 mm マット ホワイト
>
> https://www.amazon.co.jp/gp/product/B0BD7K5SQK/

> AnkerMake PLA+ フィラメント 2個入り ブラック 2kg (1kg 2個) 1.75mm AnkerMake 3Dプリンター対応
>
> https://www.amazon.co.jp/gp/product/B0C5XH7223/

## 5.7. FreeCADの学び方

P.73

> 原田将孝著『FreeCAD モデリングマスター』 （ソーテック社、2024年）
>
> https://amzn.to/4faeBDk

## 6.2. Groveデバイスを作るためのユニバーサル基板を作る

P.77

> 74th-oshw-projects/74TH-G050-grove_universal_board at main · 74th/74th-oshw-projects
>
> https://github.com/74th/74th-oshw-projects/tree/main/74TH-G050-grove_universal_board

> Groveデバイスを作る小型ユニバーサル基板 6枚セット[74TH-G050]
>
> https://74th.tech/g050s

## 6.3.1. SHT30とは

P.78

> 温湿度センサー モジュール DHT11: 計測器・センサー・ロガー 秋月電子通商-電子部品・ネット通販
>
> https://akizukidenshi.com/catalog/g/g107003/

> SHT31使用 高精度温湿度センサーモジュールキット: 計測器・センサー・ロガー 秋月電子通商-電子部品・ネット通販
>
> https://akizukidenshi.com/catalog/g/g112125/

> M5Stack用温湿度気圧センサユニット Ver.4（ENV Ⅳ） — スイッチサイエンス
>
> https://www.switch-science.com/products/9270

## 6.3.3. SHT30のWebAPI化

P.80

> SHT30-DIS-B-±2%（10-90%RH）デジタル温湿度センサー
>
> https://sensirion.com/jp/products/product-catalog/SHT30-DIS-B

P.81

> iot-server-book-code/6.3-sht30
>
> https://github.com/74th/iot-server-book-code/tree/main/6.3-sht30

## 6.4. 赤外線LEDのオリジナルGrove化

P.83

> 5mm赤外LED 940nm OSI5LA5A33A-B: オプトエレクトロニクス 秋月電子通商
>
> https://akizukidenshi.com/catalog/g/g113204/

> m5-docs: IR
>
> https://docs.m5stack.com/en/unit/ir

## 6.5.1. PCのスリープ復帰にCH9329を使う

P.84

> WCHのICを活用する電子工作の本[74TH-B014]
>
> https://74th.tech/b014s

## 6.5.2. CH9329のGroveデバイス化

P.86

> 74th-oshw-projects/74TH-G054-grove_keymouse
>
> https://github.com/74th/74th-oshw-projects/tree/main/74TH-G054-grove_keymouse

> CH9329使用キーボード、マウスエミュレータGroveモジュールキット[74TH-G054]
>
> https://74th.tech/g054s

## 6.5.3. CH9329 GroveデバイスのWebAPI化

P.90

> iot-server-book-code/6.5-ch9329
>
> https://github.com/74th/iot-server-book-code/tree/main/6.5-ch9329

## 7.1. Single Board ComputerかミニPCを自宅サーバに採用する

P.92

> オレンジパイ5プラス開発ボード、シングルボードコンピュータ、pcie、16ギガバイトのram、DDR4なrockchip、RK3588、ミニpc、M.2スロット、pcie、Pi5プラス、sbc - AliExpress
>
> https://ja.aliexpress.com/item/1005005561909873.html

## 7.2. UbuntuをM.2 MVMe SSDにインストール

P.93

> Orange Pi 5 Plus - Armbian
>
> https://www.armbian.com/orange-pi-5-plus/

> balenaEtcher - Flash OS images to SD cards & USB drives
>
> https://etcher.balena.io/

## 7.3.1. Streamlitをコンテナ化する

P.95

> StreamlitのWebアプリのDockerfileのサンプルコード
>
> https://github.com/74th/iot-server-book-code/blob/main/7.3-container/Dockerfile

> 今回利用するdocker composeの設定ファイル
>
> https://github.com/74th/iot-server-book-code/blob/main/7.3-container/compose.yml

## 7.3.3. systemdでdocker composeを起動する

P.97

> systemdの設定ファイルのサンプルコード
>
> https://github.com/74th/iot-server-book-code/blob/main/7.3-container/systemd/streamlit.service

P.98

> iot-server-book-code/7.3-container
>
> https://github.com/74th/iot-server-book-code/tree/main/7.3-container

## 7.4. ネットワーク外部からアクセス可能にする

P.99

> https://checkip.amazonaws.com/

## 7.5.2. DDNSでグローバルIPの変更に追従する

P.101

> ddns-route53
>
> https://crazymax.dev/ddns-route53/

> https://github.com/crazy-max/ddns-route53/releases

P.102

> ポリシーJSONのサンプルコード
>
> https://github.com/74th/iot-server-book-code/blob/main/7.5-domain/aws-policy/update-ddns.json

P.103

> Prerequisites - ddns-route53
>
> https://crazymax.dev/ddns-route53/usage/prerequisites/

P.104

> ddns-route53の設定ファイルサンプルコード
>
> https://github.com/74th/iot-server-book-code/blob/main/7.5-domain/ddns-route53/ddns-route53.yml

> Basic example - ddns-route53
>
> https://crazymax.dev/ddns-route53/usage/basic-example/

P.105

> ddns-route53のsystemdの設定
>
> https://github.com/74th/iot-server-book-code/blob/main/7.5-domain/systemd/ddns-route53.service

## 7.5.3. Let’s EncryptによるSSL証明書の取得

P.106

> legoのための許可ポリシーサンプルコード
>
> https://github.com/74th/iot-server-book-code/blob/main/7.5-domain/aws-policy/lego-letsencrypt.json

> Amazon Route 53 / lego公式ドキュメント
>
> https://go-acme.github.io/lego/dns/route53/

P.107

> legoのリポジトリ中のリリースページ
>
> https://github.com/go-acme/lego/releases

> legoを実行するシェルスクリプトのサンプルコード
>
> https://github.com/74th/iot-server-book-code/blob/main/7.5-domain/lego/lego_run.sh

P.108

> legoで証明書を更新するシェルスクリプトのサンプルコード
>
> https://github.com/74th/iot-server-book-code/blob/main/7.5-domain/lego/lego_renew.sh

> legoのsystemdの設定のサンプルコード lego-hs74th.service
>
> https://github.com/74th/iot-server-book-code/blob/main/7.5-domain/systemd/lego-hs74th.service

P.109

> legoのsystemdの設定のサンプルコード lego-hs74th.timer
>
> https://github.com/74th/iot-server-book-code/blob/main/7.5-domain/systemd/lego-hs74th.timer

## 7.5.4. SSLを処理するnginxリバースプロキシの構築

P.110

> リバースプロキシのnginx設定のサンプルコード
>
> https://github.com/74th/iot-server-book-code/blob/main/7.5-domain/nginx/conf/nginx.conf

P.111

> https://github.com/74th/iot-server-book-code/blob/main/7.5-domain/nginx/compose.yml

P.112

> nginxのsystemdの設定のサンプルコード
>
> https://github.com/74th/iot-server-book-code/blob/main/7.5-domain/systemd/nginx-hs74th.service

## 7.6. Google認証機構を追加する

P.114

> OAuth2 Proxy
>
> https://oauth2-proxy.github.io/oauth2-proxy/

P.116

> OAuth2 Proxy公式ドキュメントの設定に関するページ
>
> https://oauth2-proxy.github.io/oauth2-proxy/configuration/overview/

P.117

> OAuth2 Proxyの設定のサンプルコード
>
> https://github.com/74th/iot-server-book-code/blob/main/7.6-google_auth/oauth2-proxy/oauth2-proxy.cfg

> OAuth2 Proxyの認証ユーザ設定のサンプルコード
>
> https://github.com/74th/iot-server-book-code/blob/main/7.6-google_auth/oauth2-proxy/authenticated-emails.txt

## 7.6.3. docker composeで構成する

P.118

> OAuth2 Proxy用のdocker composeの設定ファイル
>
> https://github.com/74th/iot-server-book-code/blob/main/7.6-google_auth/compose.yml

## 7.7.1. Kubernetesをk3sで立てる

P.120

> K3s
>
> https://k3s.io/

## 7.7.4. GitHub ActionsのSelf-Hosted Runnerをより安全にする

P.123

> 74th/github-actions-self-hosted-runner-container
>
> https://github.com/74th/github-actions-self-hosted-runner-container

> 74th/remote-command-http-server: Server to simply execute commands via http
>
> https://github.com/74th/remote-command-http-server

## 7.7.5. Artifact Registry、Kubernetesに合わせてコンテナをGitHub Actionsで自動ビルド、自動デプロイする

P.124

> GitHub Actions で OIDC を使用して Google Cloud へ認証を行う
>
> https://zenn.dev/kou_pg_0131/articles/gh-actions-oidc-gcp

### 7.7.5. Artifact Registry、Kubernetesに合わせてコンテナをGitHub Actionsで自動ビルド、自動デプロイする

P.126

> GitHub Actions で OIDC を使用して Google Cloud へ認証を行う
>
> https://zenn.dev/kou_pg_0131/articles/gh-actions-oidc-gcp

## 著者

P.129

- [X(旧Twitter)](https://twitter.com/74th)、[GitHub](https://github.com/74th): 74th
- [商業誌『改訂新版 Visual Studio Code 実践ガイド』（技術評論社）](https://gihyo.jp/book/2024/978-4-297-13909-4)
- [同人誌『USB完全に理解したー通信仕様とコントローラ編ー』技術書典 16](https://74th.booth.pm/items/5826037)
- [同人誌『WCHのICを活用する電子工作の本』技術書典 15](https://74th.booth.pm/items/5261331)
- [同人誌『マイコンさんに知らないプロトコルを喋らせる技術』技術書典 14](https://74th.booth.pm/items/4799571)
- [同人誌『土曜日の Raspberry Pi Pico』技術書典 13](https://74th.booth.pm/items/4161550)
- [同人誌『VS Code デバッグ技術 2nd Edition』技術書典 11](https://74th.booth.pm/items/3338895)

- [BOOTH https://74th.booth.pm/ に電子工作キットも出しています](https://74th.booth.pm/)
